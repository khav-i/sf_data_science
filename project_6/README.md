# RFM-сегментация клиентов онлайн-магазина

В данном проекте мы решим настоящую бизнес-задачу в области маркетинга. Нам предстоит произвести сегментацию клиентов на
основе их покупательской способности, частоты совершения заказов и срока давности последнего заказа, а также определить
оптимальную стратегию взаимодействия с ними.

Маркетинг — неотъемлемая часть любого бизнеса. Для повышения прибыли компании важно понимать своего клиента, его пожелания
и предпочтения. С появлением электронной коммерции, или онлайн-продаж, стало намного проще собирать данные о клиентах,
анализировать их, находить закономерности и реализовывать маркетинговые кампании.

Большинство интернет-магазинов используют инструменты веб-аналитики, чтобы отслеживать просмотры страниц, количество и
поведение посетителей и коэффициент отказов. Но отчёта из Google Analytics или аналогичной системы может быть недостаточно
для полного понимания того, как клиенты взаимодействуют с сайтом. Компаниям важно иметь возможность быстро и точно реагировать
на перемены в поведении клиентов, создавая инструменты, которые обнаруживают эти изменения практически в режиме реального
времени.

Машинное обучение помогает поисковой системе анализировать огромное количество данных о посетителях платформы, узнавать
модели поведения профессиональных покупателей, определять категорию клиентов
(например, лояльные/перспективные/новички/спящие/ушедшие) и выбирать правильную стратегию взаимодействия с ними.

Стоит также отметить, что компании, использующие машинное обучение на своих платформах электронной коммерции
, могут постоянно повышать эффективность бизнес-процессов: настраивать товарную выборку персонально для каждого покупателя
и предлагать выгодную цену в соответствии с бюджетом клиента и т.д.

## Задачи и цели

**Бизнес-задача**: произвести сегментацию существующих клиентов, проинтерпретировать эти сегменты и определить стратегию взаимодействия с ними.

**Техническая задача для специалиста в Data Science**: построить модель кластеризации клиентов на основе их покупательской способности, частоты заказов и срока давности последней покупки, определить профиль каждого из кластеров.

**Основные цели проекта**:
- Произвести предобработку набора данных.
- Провести разведывательный анализ данных и выявить основные закономерности.
- Сформировать категории товаров и клиентов.
- Построить несколько моделей машинного обучения, решающих задачу кластеризации клиентов, определить количество кластеров и проинтерпретировать их.
- Спроектировать процесс предсказания категории интересов клиента и протестировать модель на новых клиентах.

## Содержание

1. Постановка задачи
2. Знакомство с данными
3. Предобработка и очистка данных
4. Разведывательный анализ данных
5. RFM-сегментация клиентов: часть 1 (PCA, KMeans)
6. RFM-сегментация клиентов: часть 2 (t-SNE, KMeans)
7. RFM-кластеризация клиентов: часть 3 (cluster predictions)

## RFM-сегментация

Метод заключается в группировке клиентов на основе следующих параметров:
* Recency (Давность) — давность последней покупки клиента;
* Frequency (Частота) — общее количество покупок клиента;
* Monetary Value (Денежная ценность) — сколько денег потратил клиент.

Суть RFM-анализа состоит в том, что мы разделяем всех клиентов на группы в зависимости от того, как давно они сделали
последнюю покупку, как часто покупали и насколько большой была сумма их заказов.

Например, вот так может выглядеть интерпретация кластеров для случая RF-сегментации (анализа на основе давности и частоты
заказов клиента):

![image](https://github.com/khav-i/sf_data_science/assets/126453765/95c8b769-e3ee-4626-8696-30e0cf8004a5)

Задача маркетологов — вести клиента в зону лояльных.

Мы можем рассчитать RFM-характеристики для каждого из клиентов в нашем датасете и на их основе с помощью методов кластеризации
построить подобные сегменты клиентов, привязанные к нашим данным.

## Полярный график

Мы произвели кластеризацию клиентов на основе RFM-признаков и построили полярный график.

![image](https://github.com/khav-i/sf_data_science/assets/126453765/ccef48c8-b5de-402a-9d7a-212088e30794)

Сгруппировали клиентов по RFM-характеристикам полученных кластеров и рассчитали среднее по каждому из признаков.

![image](https://github.com/khav-i/sf_data_science/assets/126453765/b8dcc7ec-4947-49ec-928c-9323d4b0445e)

И описали каждый кластер:
- Кластер 1 соответствует «лояльным» клиентам, которые приносят наибольший доход, совершают покупки чаще всего, а давность их последней покупки наименьшая.
- Кластер 5 соответствует «перспективным» клиентам, которые являются активными покупателями, но покупают не так часто и не так много, как лояльные клиенты.
- Кластер 2 соответствует «подвисшим» клиентам, которые относительно недавно сделали несколько заказов на небольшие суммы. Потенциально эти клиенты могут быть переведены в кластер «перспективных».
- Кластер 4 соответствует клиентам «в зоне риска», которые несколько раз покупали товары на небольшие суммы, однако их последняя покупка была совершена более пяти месяцев назад.
- Кластер 0 соответствует клиентам-«новичкам», которые относительно недавно сделали один заказ на небольшую сумму.
- Кластер 6 соответствует «спящим» или «почти потерянным» клиентам, которые сделали один заказ на маленькую сумму более семи месяцев назад и больше не возвращались.
- Кластер 3 соответствует «потерянным» клиентам, которые купили меньше всего товара, и их последняя покупка была совершена около года назад.

## Предсказание сегмента для клиентов

Мы обучили на наших сегментированных данных несколько алгоритмов и получили следующие значения метрик на кросс-валидации:

![image](https://github.com/khav-i/sf_data_science/assets/126453765/25141618-b9a6-4013-8b6e-7ca901f5d30c)

Таким образом, мы справились с проблемой непараметричности t-SNE, смогли перейти от решения задачи кластеризации к задаче классификации и создали модели, которые на основе RFM-характерик клиента автоматически определяет его сегмент с точностью 99%.

## [Версия ноутбука с интерактивной графикой](https://nbviewer.org/github/khav-i/sf_data_science/blob/4b5f942ecd9f7db8523dfdd5e3375fcc88902357/project_6/online_store_customers_RFM-segmentation.ipynb)
